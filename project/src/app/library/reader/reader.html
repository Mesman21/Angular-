<div class="reader-container">
    <!-- –ü–æ—Å–∏–ª–∞–Ω–Ω—è –ù–∞–∑–∞–¥ -->
    <a [routerLink]="['/library']" class="back-link">
        &larr; –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
    </a>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ö–Ω–∏–≥–∏ -->
    <div class="book-info-header" *ngIf="currentBook">
        <h1 class="title">{{ currentBook.title }}</h1>
        <p class="author">
            –ê–≤—Ç–æ—Ä: 
            <span class="font-semibold">{{ currentBook.author }}</span>
        </p>
    </div>

    <hr class="divider">

    <!-- –¢–ï–ö–°–¢ –ö–ù–ò–ì–ò -->
    <div class="book-content">
        <!-- üí° –û–°–ù–û–í–ù–ê –ü–ï–†–ï–í–Ü–†–ö–ê: 
             –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ <pre> –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤ —Ä—è–¥–∫–∞ —Ç–∞ 
             –∫–ª–∞—Å –¥–ª—è –ø—Ä–∏–º—É—Å–æ–≤–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è. -->
        <pre class="page-text-visible">{{ pageContent }}</pre>
    </div>

    <!-- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Ç–∞ –ö–µ—Ä—É–≤–∞–Ω–Ω—è -->
    <div class="pagination-controls">
        
        <!-- –ö–Ω–æ–ø–∫–∞ –ü–æ–ø–µ—Ä–µ–¥–Ω—è -->
        <button 
            [disabled]="isFirstPage()" 
            (click)="goToPrevPage()"
            class="pagination-button prev-button">
            &larr; –ü–æ–ø–µ—Ä–µ–¥–Ω—è
        </button>

        <!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –°—Ç–æ—Ä—ñ–Ω–∫–∏ -->
        <span class="page-indicator">
            –°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ currentPageIndex + 1 }} –∑ {{ totalPages }}
        </span>

        <!-- –ö–Ω–æ–ø–∫–∞ –ù–∞—Å—Ç—É–ø–Ω–∞ -->
        <button 
            [disabled]="isLastPage()" 
            (click)="goToNextPage()"
            class="pagination-button next-button">
            –ù–∞—Å—Ç—É–ø–Ω–∞ &rarr;
        </button>

    </div>
</div>

<style>
/* –°—Ç–∏–ª—ñ –¥–ª—è ReaderComponent */
.reader-container {
    max-width: 900px;
    margin: 2rem auto;
    padding: 2rem;
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    font-family: 'Inter', sans-serif;
}

.back-link {
    color: #3b82f6;
    text-decoration: none;
    font-size: 0.9rem;
    margin-bottom: 1.5rem;
    display: inline-block;
    transition: color 0.2s;
}

.back-link:hover {
    color: #1e40af;
}

.title {
    font-size: 2.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: #1f2937;
}

.author {
    font-style: italic;
    color: #6b7280;
    margin-bottom: 1.5rem;
}

.divider {
    border: none;
    height: 1px;
    background-color: #e5e7eb;
    margin: 2rem 0;
}

.book-content {
    min-height: 400px; /* –î–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É */
    padding: 1rem 0;
    line-height: 1.6;
    font-size: 1rem;
}

.page-text-visible {
    /* –ì–ê–†–ê–ù–¢–Ü–Ø, –©–û –¢–ï–ö–°–¢ –í–ò–î–ò–ú–ò–ô: */
    white-space: pre-wrap; 
    color: #111111 !important; /* –ü—Ä–∏–º—É—Å–æ–≤–æ —Ç–µ–º–Ω–æ-—Å—ñ—Ä–∏–π, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –±—ñ–ª–æ–≥–æ –∫–æ–ª—å–æ—Ä—É */
    background-color: transparent !important;
    min-height: 200px; /* –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ –≤–∏—Å–æ—Ç—É */
    font-family: inherit; 
    margin: 0;
}

.pagination-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 2rem;
    border-top: 1px solid #e5e7eb;
    margin-top: 2rem;
}

.pagination-button {
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s, opacity 0.2s;
    border: none;
}

.pagination-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.prev-button {
    background-color: #f3f4f6;
    color: #4b5563;
}

.next-button {
    background-color: #3b82f6;
    color: #ffffff;
}

.page-indicator {
    font-weight: 500;
    color: #4b5563;
}
</style>